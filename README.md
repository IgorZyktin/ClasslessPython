# ClasslessPython

Cкрипт в стиле ООП, но без классов. Как на ванильном js. Мне захотелось повторить встроенные механизмы python, но самому, без помощи языка.
В результате получился код, который, с точки зрения пользователя, работает как обычный, но таковым не является.

### Пример использования
```
  >>> parrot = Parrot(name='Poppy')
  >>> cat = Cat(name='Whiskers')
  >>> parrot.legs
  2
  >>> cat.legs
  4
  >>> cat.say()
  'Meow!'
  >>> parrot.say()
  'Ara ara!'
  >>> isinstance(parrot, Animal)
  True
  >>> cat.call('Bobby')
  'no reaction'
  >>> cat.call('Whiskers')
  'Meow!'
  >>> type(parrot)
  'Parrot'
```
### Как это работает

В лучших традициях седой древности, мы создаём структуру, в которую кладём данные и функции по их обработке. На этом этапе уже можно использовать вызовы вида 
Cat.call(cat, 'Bobby). Но это не очень удобно для использования, поэтому тут я был вынужден немного воспользоваться встроенной магией интерпретатора, чтобы преобразовать вызов в cat.call('Bobby'). Мы ведь отказываемся от применения питоновских функций в качестве дескрипторов не-данных, поэтому экземпляр класса приходится
класть в функцию собственноручно. На выходе получается нечто, очень похожее на bound method в самом языке. Хотя у настоящих методов конечно присутствует кеширование.

Подобная примитивная реализация даже позволяет делать наследование и переопределение методов, правда без алгоритма линеаризации для множественного наследования.

### Практический смысл

Никакого. Просто упражнение для понимания работы классов/метаклассов и реализации ООП в Python.
